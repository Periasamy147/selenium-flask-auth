{% extends "base.html" %}
{% block content %}
<div class="card shadow p-4 mx-auto text-center" style="max-width: 500px;">
  <h2>Welcome, {{ username }}!</h2>
  <p class="text-muted">You are logged in.</p>

  <hr>
  <h4>Your Profile</h4>
  <p><strong>Name:</strong> {{ name }}</p>
  <p><strong>Age:</strong> {{ age }}</p>

  <button id="editBtn" class="btn btn-warning mt-3">Edit Profile</button>

  <form id="editForm" method="POST" action="{{ url_for('dashboard') }}" class="mt-3" style="display: none;">
    <div class="form-group mb-2">
      <input type="text" class="form-control text-center" name="name" value="{{ name if name != 'N/A' else '' }}" placeholder="Enter Name" required>
    </div>
    <div class="form-group mb-3">
      <input type="number" class="form-control text-center" name="age" value="{{ age if age != 'N/A' else '' }}" placeholder="Enter Age (18â€“100)" min="18" max="100" required>
    </div>
    <button id="saveForm" type="submit" class="btn btn-success w-100">Save Changes</button>
  </form>

  <form action="{{ url_for('logout') }}" method="get" class="mt-3">
    <button type="submit" name="logout" class="btn btn-danger w-100">Logout</button>
  </form>
</div>

<script>
  document.getElementById("editBtn").addEventListener("click", function() {
    const form = document.getElementById("editForm");
    form.style.display = form.style.display === "none" ? "block" : "none";
  });
</script>
{% endblock %}
